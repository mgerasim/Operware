function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{0:function(t,n,e){t.exports=e("zUnb")},m85W:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var i=e("tk/3"),o=e("fXoL"),r=function(){function t(n){_classCallCheck(this,t),this.httpClient=n,this.defaultHeaders=new i.c}return _createClass(t,[{key:"delete",value:function(t){var n=this.defaultHeaders;return this.httpClient.delete("/api/configuration/".concat(t),{headers:n})}},{key:"getById",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.defaultHeaders;return this.httpClient.get("/api/configuration/".concat(t),{headers:i,observe:n,reportProgress:e})}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.defaultHeaders;return this.httpClient.get("/api/configuration",{headers:e,observe:t,reportProgress:n})}},{key:"add",value:function(t){return this.defaultHeaders,this.httpClient.post("/api/configuration",t,{observe:"body",responseType:"json"})}},{key:"save",value:function(t){return this.defaultHeaders,this.httpClient.put("/api/configuration",t,{observe:"body",responseType:"json"})}}]),t}();r.\u0275fac=function(t){return new(t||r)(o.yc(i.a))},r.\u0275prov=o.gc({token:r,factory:r.\u0275fac,providedIn:"root"})},zUnb:function(t,n,e){"use strict";e.r(n);var i=e("fXoL"),o=e("jhN1"),r=e("tyNb"),a=[{path:"configuration",loadChildren:function(){return Promise.all([e.e(2),e.e(3)]).then(e.bind(null,"w8hy")).then((function(t){return t.ConfigurationCenterModule}))}},{path:"calls",loadChildren:function(){return Promise.all([e.e(2),e.e(1),e.e(5)]).then(e.bind(null,"+3ot")).then((function(t){return t.OperatorsCenterModule}))}},{path:"service",loadChildren:function(){return Promise.all([e.e(1),e.e(8)]).then(e.bind(null,"nC+o")).then((function(t){return t.ServiceCenterModule}))}}],c=function t(){_classCallCheck(this,t)};c.\u0275mod=i.ic({type:c}),c.\u0275inj=i.hc({factory:function(t){return new(t||c)},imports:[[r.h.forRoot(a,{preloadingStrategy:r.c,enableTracing:!0})],r.h]});var l=e("aceb"),s=e("MCLT"),u=e("m85W"),d=e("mrSG"),f=function t(){_classCallCheck(this,t)},p=e("pxlC"),g=e.n(p),h=e("1kSV"),b=e("ofXK"),v=e("w76M"),m=e("k8YA"),k=e("WYlB"),y=e("PVOt"),C=e("6t9p");function z(t,n){if(1&t){var e=i.rc();i.qc(0,"button",3),i.Cc("click",(function(){i.Uc(e);var t=n.$implicit;return i.Ec().change(t)})),i.dd(1),i.pc()}if(2&t){var o=n.$implicit;i.Wb(1),i.fd("",null===o.titleOrganization?"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e":o.titleOrganization," ")}}function w(t,n){if(1&t){var e=i.rc();i.qc(0,"div"),i.qc(1,"nb-card"),i.qc(2,"nb-card-body"),i.qc(3,"dx-form",8),i.qc(4,"dxi-item",9),i.lc(5,"dxo-label",10),i.pc(),i.pc(),i.pc(),i.qc(6,"nb-card-footer"),i.qc(7,"dx-button",11),i.Cc("click",(function(){return i.Uc(e),i.Ec().save()})),i.pc(),i.pc(),i.pc(),i.pc()}if(2&t){var o=i.Ec();i.Wb(3),i.Kc("formData",o.organization)}}var O=function(){function t(n){_classCallCheck(this,t),this.configurationService=n,this.popupVisible=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"add",value:function(){this.popupVisible=!0,this.organization=new f}},{key:"save",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(this.organization),t.next=4,this.configurationService.add(this.organization).toPromise();case 4:n=t.sent,console.log(n),localStorage.setItem("organization",n.id.toString()),this.popupVisible=!1,location.reload(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),g()(t.t0.message,"error");case 11:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"change",value:function(t){console.log(t),localStorage.setItem("organization",t.id.toString()),location.reload()}},{key:"isEmptyOrganization",get:function(){return Object(s.isNullOrUndefined)(localStorage.getItem("organization"))||"null"===localStorage.getItem("organization")}},{key:"title",get:function(){return this.isEmptyOrganization?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e":this.organization.titleOrganization}}]),t}();function S(t,n){if(1&t&&i.lc(0,"nb-menu",2),2&t){var e=i.Ec();i.Kc("items",e.items)}}O.\u0275fac=function(t){return new(t||O)(i.kc(u.a))},O.\u0275cmp=i.ec({type:O,selectors:[["app-menu-organization"]],inputs:{organization:"organization",organizations:"organizations"},decls:10,vars:5,consts:[["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"dropdown-divider"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],[3,"title","visible","visibleChange"],[4,"dxTemplate","dxTemplateOf"],["colCount","1",3,"formData"],["dataField","titleOrganization"],["text","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"],["stylingMode","contained","type","success","text","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"click"]],template:function(t,n){1&t&&(i.qc(0,"div",0),i.qc(1,"button",1),i.dd(2),i.pc(),i.qc(3,"div",2),i.qc(4,"button",3),i.Cc("click",(function(){return n.add()})),i.dd(5,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"),i.pc(),i.lc(6,"div",4),i.bd(7,z,2,1,"button",5),i.pc(),i.pc(),i.qc(8,"dx-popup",6),i.Cc("visibleChange",(function(t){return n.popupVisible=t})),i.bd(9,w,8,1,"div",7),i.pc()),2&t&&(i.Wb(2),i.ed(n.title),i.Wb(5),i.Kc("ngForOf",n.organizations),i.Wb(1),i.Kc("title","\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435")("visible",n.popupVisible),i.Wb(1),i.Kc("dxTemplateOf","content"))},directives:[h.a,h.d,h.c,h.b,b.l,v.a,y.d,l.b,l.a,m.a,C.h,C.T,l.c,k.a],styles:[""]});var x=function(){function t(n){_classCallCheck(this,t),this.configurationService=n,this.items=[{title:"\u0417\u0432\u043e\u043d\u043a\u0438",link:"/calls"},{title:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f",link:"/calls/events"},{title:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f",expanded:!0,children:[{title:"AMI \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",link:"/configuration"},{title:"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439",link:"/configuration/event-binding"},{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435",link:"/configuration/variables"},{title:"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u0437\u0432\u043e\u043d\u043e\u043a",link:"/configuration/callback"}]},{title:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",link:"/service"},{title:"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0435 \u0437\u0432\u043e\u043d\u043a\u0438",link:"/calls/callbacks"}]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.configurationService.get().subscribe((function(n){t.configurations=n,t.isEmptyOrganization||(t.configuration=t.configurations.find((function(t){return t.id.toString()===localStorage.getItem("organization")})),t.configuration||localStorage.setItem("organization",null))}))}},{key:"isEmptyOrganization",get:function(){return Object(s.isNullOrUndefined)(localStorage.getItem("organization"))||"null"===localStorage.getItem("organization")}}]),t}();x.\u0275fac=function(t){return new(t||x)(i.kc(u.a))},x.\u0275cmp=i.ec({type:x,selectors:[["app-menu"]],decls:2,vars:3,consts:[[3,"organization","organizations"],[3,"items",4,"ngIf"],[3,"items"]],template:function(t,n){1&t&&(i.lc(0,"app-menu-organization",0),i.bd(1,S,1,1,"nb-menu",1)),2&t&&(i.Kc("organization",n.configuration)("organizations",n.configurations),i.Wb(1),i.Kc("ngIf",n.configuration))},directives:[O,b.m,l.h],styles:[""]});var I=function t(){_classCallCheck(this,t),this.title="Operware"};I.\u0275fac=function(t){return new(t||I)},I.\u0275cmp=i.ec({type:I,selectors:[["app-root"]],decls:5,vars:0,template:function(t,n){1&t&&(i.qc(0,"nb-layout"),i.qc(1,"nb-sidebar"),i.lc(2,"app-menu"),i.pc(),i.qc(3,"nb-layout-column"),i.lc(4,"router-outlet"),i.pc(),i.pc())},directives:[l.f,l.j,x,l.e,r.i],styles:[""]});var _=e("tk/3"),q=e("R1ws"),P=function t(){_classCallCheck(this,t)};P.\u0275mod=i.ic({type:P,bootstrap:[I]}),P.\u0275inj=i.hc({factory:function(t){return new(t||P)},providers:[l.l],imports:[[b.c,o.a,q.a,_.b,l.m.forRoot(),c,l.g,l.k,h.e,l.i.forRoot(),v.b,l.d,m.b,k.b]]}),o.f().bootstrapModule(P).catch((function(t){return console.error(t)}))},zn8P:function(t,n){function e(t){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}))}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="zn8P"}},[[0,0,10]]]);
//# sourceMappingURL=main-es5.js.map