(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{0:function(t,n,i){t.exports=i("zUnb")},m85W:function(t,n,i){"use strict";i.d(n,"a",(function(){return r}));var e=i("tk/3"),o=i("fXoL");class r{constructor(t){this.httpClient=t,this.defaultHeaders=new e.c}delete(t){const n=this.defaultHeaders;return this.httpClient.delete(`/api/configuration/${t}`,{headers:n})}getById(t,n="body",i=!1){const e=this.defaultHeaders;return this.httpClient.get(`/api/configuration/${t}`,{headers:e,observe:n,reportProgress:i})}get(t="body",n=!1){const i=this.defaultHeaders;return this.httpClient.get("/api/configuration",{headers:i,observe:t,reportProgress:n})}add(t){this.defaultHeaders;return this.httpClient.post("/api/configuration",t,{observe:"body",responseType:"json"})}save(t){this.defaultHeaders;return this.httpClient.put("/api/configuration",t,{observe:"body",responseType:"json"})}}r.\u0275fac=function(t){return new(t||r)(o.yc(e.a))},r.\u0275prov=o.gc({token:r,factory:r.\u0275fac,providedIn:"root"})},zUnb:function(t,n,i){"use strict";i.r(n);var e=i("fXoL");var o=i("jhN1"),r=i("tyNb");const c=[{path:"configuration",loadChildren:()=>Promise.all([i.e(2),i.e(3)]).then(i.bind(null,"w8hy")).then(t=>t.ConfigurationCenterModule)},{path:"calls",loadChildren:()=>Promise.all([i.e(2),i.e(1),i.e(5)]).then(i.bind(null,"+3ot")).then(t=>t.OperatorsCenterModule)},{path:"service",loadChildren:()=>Promise.all([i.e(1),i.e(8)]).then(i.bind(null,"nC+o")).then(t=>t.ServiceCenterModule)}];class a{}a.\u0275mod=e.ic({type:a}),a.\u0275inj=e.hc({factory:function(t){return new(t||a)},imports:[[r.h.forRoot(c,{preloadingStrategy:r.c,enableTracing:!0})],r.h]});var s=i("aceb"),l=i("MCLT"),d=i("m85W"),u=i("mrSG");class p{}var g=i("pxlC"),f=i.n(g),b=i("1kSV"),h=i("ofXK"),m=i("w76M"),v=i("k8YA"),y=i("WYlB"),z=i("PVOt"),k=i("6t9p");function w(t,n){if(1&t){const t=e.rc();e.qc(0,"button",3),e.Cc("click",(function(){e.Uc(t);const i=n.$implicit;return e.Ec().change(i)})),e.dd(1),e.pc()}if(2&t){const t=n.$implicit;e.Wb(1),e.fd("",null===t.titleOrganization?"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e":t.titleOrganization," ")}}function O(t,n){if(1&t){const t=e.rc();e.qc(0,"div"),e.qc(1,"nb-card"),e.qc(2,"nb-card-body"),e.qc(3,"dx-form",8),e.qc(4,"dxi-item",9),e.lc(5,"dxo-label",10),e.pc(),e.pc(),e.pc(),e.qc(6,"nb-card-footer"),e.qc(7,"dx-button",11),e.Cc("click",(function(){return e.Uc(t),e.Ec().save()})),e.pc(),e.pc(),e.pc(),e.pc()}if(2&t){const t=e.Ec();e.Wb(3),e.Kc("formData",t.organization)}}class C{constructor(t){this.configurationService=t,this.popupVisible=!1}get isEmptyOrganization(){return Object(l.isNullOrUndefined)(localStorage.getItem("organization"))||"null"===localStorage.getItem("organization")}get title(){return this.isEmptyOrganization?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e":this.organization.titleOrganization}ngOnInit(){}add(){this.popupVisible=!0,this.organization=new p}save(){return Object(u.a)(this,void 0,void 0,(function*(){try{console.log(this.organization);const t=yield this.configurationService.add(this.organization).toPromise();console.log(t),localStorage.setItem("organization",t.id.toString()),this.popupVisible=!1,location.reload()}catch(t){console.error(t),f()(t.message,"error")}}))}change(t){console.log(t),localStorage.setItem("organization",t.id.toString()),location.reload()}}function S(t,n){if(1&t&&e.lc(0,"nb-menu",2),2&t){const t=e.Ec();e.Kc("items",t.items)}}C.\u0275fac=function(t){return new(t||C)(e.kc(d.a))},C.\u0275cmp=e.ec({type:C,selectors:[["app-menu-organization"]],inputs:{organization:"organization",organizations:"organizations"},decls:10,vars:5,consts:[["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"dropdown-divider"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],[3,"title","visible","visibleChange"],[4,"dxTemplate","dxTemplateOf"],["colCount","1",3,"formData"],["dataField","titleOrganization"],["text","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"],["stylingMode","contained","type","success","text","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"click"]],template:function(t,n){1&t&&(e.qc(0,"div",0),e.qc(1,"button",1),e.dd(2),e.pc(),e.qc(3,"div",2),e.qc(4,"button",3),e.Cc("click",(function(){return n.add()})),e.dd(5,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"),e.pc(),e.lc(6,"div",4),e.bd(7,w,2,1,"button",5),e.pc(),e.pc(),e.qc(8,"dx-popup",6),e.Cc("visibleChange",(function(t){return n.popupVisible=t})),e.bd(9,O,8,1,"div",7),e.pc()),2&t&&(e.Wb(2),e.ed(n.title),e.Wb(5),e.Kc("ngForOf",n.organizations),e.Wb(1),e.Kc("title","\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435")("visible",n.popupVisible),e.Wb(1),e.Kc("dxTemplateOf","content"))},directives:[b.a,b.d,b.c,b.b,h.l,m.a,z.d,s.b,s.a,v.a,k.h,k.T,s.c,y.a],styles:[""]});class I{constructor(t){this.configurationService=t,this.items=[{title:"\u0417\u0432\u043e\u043d\u043a\u0438",link:"/calls"},{title:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f",link:"/calls/events"},{title:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f",expanded:!0,children:[{title:"AMI \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",link:"/configuration"},{title:"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439",link:"/configuration/event-binding"},{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435",link:"/configuration/variables"},{title:"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u0437\u0432\u043e\u043d\u043e\u043a",link:"/configuration/callback"}]},{title:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",link:"/service"},{title:"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0435 \u0437\u0432\u043e\u043d\u043a\u0438",link:"/calls/callbacks"}]}get isEmptyOrganization(){return Object(l.isNullOrUndefined)(localStorage.getItem("organization"))||"null"===localStorage.getItem("organization")}ngOnInit(){this.configurationService.get().subscribe(t=>{this.configurations=t,this.isEmptyOrganization||(this.configuration=this.configurations.find(t=>t.id.toString()===localStorage.getItem("organization")),this.configuration||localStorage.setItem("organization",null))})}}I.\u0275fac=function(t){return new(t||I)(e.kc(d.a))},I.\u0275cmp=e.ec({type:I,selectors:[["app-menu"]],decls:2,vars:3,consts:[[3,"organization","organizations"],[3,"items",4,"ngIf"],[3,"items"]],template:function(t,n){1&t&&(e.lc(0,"app-menu-organization",0),e.bd(1,S,1,1,"nb-menu",1)),2&t&&(e.Kc("organization",n.configuration)("organizations",n.configurations),e.Wb(1),e.Kc("ngIf",n.configuration))},directives:[C,h.m,s.h],styles:[""]});class q{constructor(){this.title="Operware"}}q.\u0275fac=function(t){return new(t||q)},q.\u0275cmp=e.ec({type:q,selectors:[["app-root"]],decls:5,vars:0,template:function(t,n){1&t&&(e.qc(0,"nb-layout"),e.qc(1,"nb-sidebar"),e.lc(2,"app-menu"),e.pc(),e.qc(3,"nb-layout-column"),e.lc(4,"router-outlet"),e.pc(),e.pc())},directives:[s.f,s.j,I,s.e,r.i],styles:[""]});var x=i("tk/3"),E=i("R1ws");class M{}M.\u0275mod=e.ic({type:M,bootstrap:[q]}),M.\u0275inj=e.hc({factory:function(t){return new(t||M)},providers:[s.l],imports:[[h.c,o.a,E.a,x.b,s.m.forRoot(),a,s.g,s.k,b.e,s.i.forRoot(),m.b,s.d,v.b,y.b]]}),o.f().bootstrapModule(M).catch(t=>console.error(t))},zn8P:function(t,n){function i(t){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}))}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id="zn8P"}},[[0,0,10]]]);
//# sourceMappingURL=main-es2015.js.map